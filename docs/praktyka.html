<!doctype html>
<html lang="pl" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-praktyka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tech Writer koduje RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tech Writer koduje Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Tech Writer koduje JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Tech Writer koduje" href="/opensearch.xml"><title data-rh="true">Przechodzimy do praktyki | Tech Writer koduje</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://techwriterkoduje.pl/docs/praktyka"><meta data-rh="true" name="docusaurus_locale" content="pl"><meta data-rh="true" name="docsearch:language" content="pl"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Przechodzimy do praktyki | Tech Writer koduje"><meta data-rh="true" name="description" content="Być może z rozpędu czy też przyzwyczajenia przejście od razu do części"><meta data-rh="true" property="og:description" content="Być może z rozpędu czy też przyzwyczajenia przejście od razu do części"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://techwriterkoduje.pl/docs/praktyka"><link data-rh="true" rel="alternate" href="https://techwriterkoduje.pl/docs/praktyka" hreflang="pl"><link data-rh="true" rel="alternate" href="https://techwriterkoduje.pl/docs/praktyka" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://J5LJVDXVT6-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6befaa65.css">
<link rel="preload" href="/assets/js/runtime~main.8397876e.js" as="script">
<link rel="preload" href="/assets/js/main.d545ffd6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Przejdź do głównej zawartości</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/play.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/play.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Tech Writer koduje</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Odcinki</a><a class="navbar__item navbar__link" href="/read">Czytelnia</a><a class="navbar__item navbar__link" href="/watch">Filmiki</a><a class="navbar__item navbar__link" href="/projects">Projekty</a><a class="navbar__item navbar__link" href="/contact">Kontakt</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Szukaj"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Szukaj</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Przewiń do góry" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/teoria">Tech Writer koduje w Pythonie</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/teoria">Na początek trochę teorii</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/praktyka">Przechodzimy do praktyki</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/co-dalej">Co dalej?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/podziekowania">Podziękowania</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tech Writer koduje w Pythonie</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Przechodzimy do praktyki</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Na tej stronie</button></div><div class="theme-doc-markdown markdown"><header><h1>Przechodzimy do praktyki</h1></header><p>Być może z rozpędu czy też przyzwyczajenia przejście od razu do części
praktycznej tego przewodnika wydało Ci się dobrym pomysłem. Jeśli tak się stało,
to zachęcam Cię do przeczytania <a href="/docs/teoria">części teoretycznej</a>, żeby
dowiedzieć się jaki miałem cel pisząc ten przewodnik i jakie powinny być Twoje
oczekiwania w stosunku do tego co tu znajdziesz.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="co-będziemy-robić">Co będziemy robić?<a class="hash-link" href="#co-będziemy-robić" title="Bezpośredni link do nagłówka">​</a></h2><p>Jak to co? Kodować w Pythonie! :)</p><p>W świecie dokumentacji do oprogramowania, istnieje wiele miejsc, gdzie
tradycyjne &quot;kopiuj-wklej&quot; można potencjalnie zastąpić jakimś automatycznym
rozwiązaniem, które odwali za nas brudną robotę.</p><p>Wyobraź sobie taki scenariusz. Dostajesz przydział do projektu, w którym
będziesz bardzo blisko współpracować z programistami. Ustaliliście na samym
początku, że za każdym razem kiedy programista zrobi zmianę w kodzie, która musi
zostać udokumentowana, doda do folderu <code>docs</code> plik tekstowy z opisem zmian. Plik
będzie miał taką nazwę jak numer historyjki w systemie do śledzenia zadań. Na
przykład, jeśli historyjka ma numer <strong>PROJ-102</strong> i została stworzona po to, żeby
programista naprawił błąd powodujący, że aplikacja zawieszała się na kilka
sekund, a następnie okno aplikacji przesuwało się poza ekran, to programista w
repozytorium z kodem doda plik <code>docs\PROJ-102.txt</code>, w którym będzie taka
informacja.</p><p><em>PROJ-102.txt</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Naprawiliśmy błąd, który powodował, że aplikacja zawieszała się na kilka sekund, a następnie okno aplikacji przesuwało się poza ekran przez co stawało się niewidoczne.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Co kilka tygodni zespół publikuje nową wersję aplikacji wraz z aktualną
dokumentacją, której częścią są <em>release notes</em> (noty wydania). Treść, która
trafia do <em>release notes</em> pochodzi z plików tekstowych, które dodają programiści
kiedy zmieniają kod. Twoim zadaniem, jako Tech Writera, jest sprawdzanie
informacji w tych plikach, poprawianie ich, a na końcu wygenerowanie pliku HTML
z gotowymi notami. Jest to prosty plik z tabelką przedstawiającą zmiany w
aplikacji. Chodzi o coś takiego.</p><table><thead><tr><th>Numer zgłoszenia</th><th>Opis</th></tr></thead><tbody><tr><td>PROJ-102</td><td>Naprawiliśmy błąd, który powodował, że aplikacja zawieszała się na kilka sekund, a następnie okno aplikacji przesuwało się poza ekran przez co stawało się niewidoczne.</td></tr><tr><td>PROJ-101</td><td>Dodaliśmy nową funkcję, która pozwala na szybkie pobieranie zasobów sieciowych.</td></tr></tbody></table><p>Nie chcesz generować pliku HTML poprzez ręczne przeklejanie informacji z plików
tekstowych i potem wprowadzanie pozostałych poprawek, dlatego szukasz bardziej
sprytnego rozwiązania. Chcesz swój czas i energię przeznaczyć głównie na
ulepszanie informacji, które dostarczają Ci programiści, a proces publikowania
końcowego pliku chcesz przekazać maszynie.</p><p>I to właśnie będzie nasz cel, który będziemy krok po kroku realizować w
kolejnych sekcjach. Zbudujemy razem przykładowy generator treści, który pobiera
informacje z plików tekstowych, a następnie generuje docelowy plik HTML na
podstawie szablonu.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="co-nam-będzie-potrzebne">Co nam będzie potrzebne?<a class="hash-link" href="#co-nam-będzie-potrzebne" title="Bezpośredni link do nagłówka">​</a></h2><p>Starałem się ograniczyć liczbę potrzebnych komponentów do minimum, żebyśmy mogli
przejść jak najszybciej do kodowania. Jednak pewnych rzeczy nie da się pominąć,
dlatego będziesz potrzebować takiego oprogramowania.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="python">Python<a class="hash-link" href="#python" title="Bezpośredni link do nagłówka">​</a></h3><p>Pythona trzeba zainstalować. W niektórych systemach operacyjnych, może już być
zainstalowany, ale istnieje spora szansa, że nie będzie to wersja, której
potrzebujemy. A będziemy potrzebować wersji 3.7 lub nowszej.</p><p>Instalatory znajdziesz na oficjalnej stronie Pythona (<a href="https://www.python.org/" target="_blank" rel="noopener noreferrer">https://www.python.org/</a>).
Możesz też zainstalować Pythona poprzez menedżera paczek w swoim systemie
operacyjnym. Kolejną opcją jest użycie narzędzia pyenv
(<a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener noreferrer">https://github.com/pyenv/pyenv</a>). W przypadku Windowsa możesz także skorzystać z
instalacji poprzez Microsoft Store.</p><p>Wybierz dogodną dla siebie metodę instalacji. Jeśli napotkasz jakieś problemy to
najlepiej poproś o pomoc kogoś kto ma doświadczenie z Pythonem albo poszukaj
informacji w internecie. Biorąc pod uwagę liczbę systemów operacyjnych,
potencjalna liczba problemów z instalacją jest spora, dlatego nie byłbym w
stanie pokryć w tym przewodniku każdej możliwej ścieżki.</p><p>Bez względu na to jaką wybierzesz metodę instalacji, zwróć uwagę, żeby dodać
Pythona do zmiennych środowiskowych, czyli przypisać komendę <code>python</code> do Pythona
3, którego zainstalujesz. Robi się to różnie w zależności od systemu
operacyjnego i sposobu instalacji. Na przykład, jeśli instalujesz Pythona na
Windowsie za pomocą instalatora pobranego z oficjalnej strony Pythona, na jednym
z ekranów będziesz mieć opcję, żeby dodać Pythona do zmiennych środowiskowych
(<code>PATH</code>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="edytor-tekstowy">Edytor tekstowy<a class="hash-link" href="#edytor-tekstowy" title="Bezpośredni link do nagłówka">​</a></h3><p>Możesz użyć jakiegokolwiek edytora tekstowego, żeby kodować w Pythonie. Jednak
zachęcam Cię do skorzystania z edytora, który wspiera Pythona. Ułatwi Ci to
znacznie życie, bo taki edytor podpowie Ci podczas pisania jakie masz opcje,
automatycznie sformatuje Twój kod i da Ci znać jeśli coś będzie nie tak. Na
szczęście nie ma problemu ze znalezieniem odpowiedniego edytora, który jest
darmowy. Nie chcę Ci narzucać niczego, ale w momencie pisania tego przewodnika
popularnym i darmowym edytorem, który oferuje wsparcie dla Pythona jest Visual
Studio Code od Microsoftu (<a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">https://code.visualstudio.com/</a>). Może ta opcja będzie
dla Ciebie odpowiednia.</p><p>Oprócz edytorów, możesz skorzystać z bardziej zaawansowanej opcji, czyli IDE
(ang. <em>integrated development environment</em>). Przykładem może być PyCharm od
JetBrains (<a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener noreferrer">https://www.jetbrains.com/pycharm/</a>). Jednak na nasze potrzeby jest to
za dużo. Nauczenie się obsługi IDE przyniesie Ci korzyści, ale na późniejszym
etapie nauki Pythona. Na tym etapie, polecam edytor tekstowy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kodowanie-czas-zacząć">Kodowanie czas zacząć<a class="hash-link" href="#kodowanie-czas-zacząć" title="Bezpośredni link do nagłówka">​</a></h2><p>Mam nadzieję, że instalacja Pythona i edytora nie przysporzyły Ci problemów i że
Twój zapał jest taki sam albo większy jak w momencie rozpoczęcia czytania tego
przewodnika. Skoro mamy już wszystko gotowe to zabieramy się do pracy.</p><p>Będziemy krok po kroku budować naszą aplikację. Pomimo tego, że ten przewodnik
jest napisany w języku polskim i nasze pliki tekstowe zawierają w sobie polski
tekst, to nasz kod będziemy pisać po angielsku. Być może wyda Ci się to dziwne,
ale według mnie jest to bardziej naturalne i powszechne. Poza tym, dzięki temu,
Twój kod będzie mógł bywać w świecie, bo Twoi anglojęzyczni znajomi też będą w
stanie go zrozumieć.</p><p>Jeśli chcesz od razu skoczyć na głęboką wodę albo po prostu jesteś ciekaw co tu
się wydarzy, przejdź do sekcji <a href="#gotowa-aplikacja">Gotowa aplikacja</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-1-stwórz-folder-dla-generatora">Krok 1: Stwórz folder dla generatora<a class="hash-link" href="#krok-1-stwórz-folder-dla-generatora" title="Bezpośredni link do nagłówka">​</a></h3><p>W dogodnej lokalizacji na swoim dysku, stwórz folder <code>rel_notes_generator</code>. W
tym folderze będziemy dodawać kolejne zasoby potrzebne nam do zbudowania
generatora.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-2-dodaj-przykładowe-pliki-tekstowe">Krok 2: Dodaj przykładowe pliki tekstowe<a class="hash-link" href="#krok-2-dodaj-przykładowe-pliki-tekstowe" title="Bezpośredni link do nagłówka">​</a></h3><p>Stwórz folder <code>rel_notes_generator\input</code>, a w nim dodaj dwa pliki tekstowe,
<code>PROJ-101.txt</code> i <code>PROJ-102.txt</code>, z taką zawartością jak widać poniżej. Tymi
plikami &quot;nakarmimy&quot; nasz generator. Dzięki temu będziemy mogli sprawdzić czy
działa tak jak tego chcemy.</p><p><em>PROJ-101.txt</em></p><div class="language-PROJ-101.txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-PROJ-101.txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Dodaliśmy nową funkcję, która pozwala na szybkie pobieranie zasobów sieciowych.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>PROJ-102.txt</em></p><div class="language-PROJ-102.txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-PROJ-102.txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Naprawiliśmy błąd, który powodował, że aplikacja zawieszała się na kilka sekund, a następnie okno aplikacji przesuwało się poza ekran przez co stawało się niewidoczne.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-3-stwórz-szablon-dla-pliku-html">Krok 3: Stwórz szablon dla pliku HTML<a class="hash-link" href="#krok-3-stwórz-szablon-dla-pliku-html" title="Bezpośredni link do nagłówka">​</a></h3><p>Mamy już pliki tekstowe, z których pobierzemy treść naszych not wydania. Teraz
potrzebujemy jeszcze szablonu, do którego wstawimy informacje pobrane z plików
tekstowych. Stwórz plik <code>rel_notes_generator\release_notes_template.html</code> z
takim kodem HTML.</p><p><em>release_notes_template.html</em></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token doctype punctuation" style="color:rgb(199, 146, 234);font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:rgb(199, 146, 234);font-style:italic">DOCTYPE</span><span class="token doctype" style="color:rgb(199, 146, 234);font-style:italic"> </span><span class="token doctype name" style="color:rgb(199, 146, 234);font-style:italic">html</span><span class="token doctype punctuation" style="color:rgb(199, 146, 234);font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">html</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">en</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">meta</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">utf-8</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">title</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Noty wydania</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">title</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">table</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">th</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Numer zgłoszenia</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">th</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">th</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Opis</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">th</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      $release_notes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">table</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">html</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ten prosty plik zawiera tabelkę, która póki co ma tylko jeden wiersz z dwoma
kolumnami (<code>Numer zgłoszenia</code> i <code>Opis</code>) oraz tajemniczy element
<code>$release_notes</code>. Jest to element zastępczy, który zostanie zamieniony przez
nasz generator na informacje pobrane z plików tekstowych. W kroku 5 poznasz
komponent Pythona, który będzie w stanie zrobić użytek z tego elementu.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-4-stwórz-plik-dla-kodu-generatora">Krok 4: Stwórz plik dla kodu generatora<a class="hash-link" href="#krok-4-stwórz-plik-dla-kodu-generatora" title="Bezpośredni link do nagłówka">​</a></h3><p>Stwórz plik <code>rel_notes_generator\rel_notes_generator.py</code>. Pliki zawierające kod
Pythona mają rozszerzenie <code>.py</code>. W tym pliku będzie znajdował się kod dla
naszego generatora, który napiszemy w kolejnych krokach.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-5-dodaj-linki-do-potrzebnych-komponentów-pythona">Krok 5: Dodaj linki do potrzebnych komponentów Pythona<a class="hash-link" href="#krok-5-dodaj-linki-do-potrzebnych-komponentów-pythona" title="Bezpośredni link do nagłówka">​</a></h3><p>Python zawiera w sobie bogaty zestaw gotowych komponentów, z których możemy
korzystać od razu bez instalowania dodatkowego oprogramowania. Ten zestaw nazywa
się <strong>The Python Standard Library</strong>. Żeby móc skorzystać z jakiegoś komponentu
musimy go zaimportować w naszej aplikacji, czyli tak jakby dodać do niego link.
Możemy to zrobić wpisując:</p><p><code>import nazwaKomponentu</code></p><p>albo</p><p><code>from nazwaKomponentu import nazwaElementu</code></p><p>Różnica jest taka, że w pierwszym sposobie importujemy cały komponent a w drugim
tylko określone elementy, których akurat potrzebujemy.</p><p>Nasz generator będzie korzystał z trzech elementów, które są w trzech różnych
komponentach. Dlatego na początku naszego kodu w pliku <code>rel_notes_generator.py</code>
musimy dodać takie linijki.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> string </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> shutil </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> rmtree</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Z komponentu <code>string</code> importujemy element <code>Template</code>, który pozwala na obsługę
szablonów. Będzie on nam potrzebny, żeby odpowiednio opakować informacje pobrane
z plików tekstowych i potem je podstawić w odpowiednie miejsce w szablonie HTML.
Jak pamiętasz, w kroku 3 pojawił się element zastępczy <code>$release_notes</code>.
Dodaliśmy go do naszego szablonu po to, żeby komponent <code>Template</code> wiedział gdzie
ma wstawić właściwe informacje.</p><p>Z komponentu <code>pathlib</code> importujemy element <code>Path</code>, dzięki któremu w elegancki
sposób będziemy mogli ustawić w naszej aplikacji ścieżki do potrzebnych zasobów.</p><p>Z komponentu <code>shutil</code> importujemy element <code>rmtree</code>, który pozwala na usuwanie
folderów, nawet jeśli nie są puste.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-6-ustaw-ścieżki-do-potrzebnych-zasobów">Krok 6: Ustaw ścieżki do potrzebnych zasobów<a class="hash-link" href="#krok-6-ustaw-ścieżki-do-potrzebnych-zasobów" title="Bezpośredni link do nagłówka">​</a></h3><p>W naszym generatorze musimy ustawić trzy ścieżki w taki oto sposób.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__file__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">parent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">input_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;input&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">output_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;output&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Zanim przejdę do wyjaśnienia o co dokładnie tutaj chodzi, wspomnę tylko, że
zmienne w Pythonie tworzymy poprzez przypisanie jakiejś wartości do nazwy. Na
przykład, jeśli chciałbym stworzyć zmienną <code>name</code>, która będzie przechowywać w
sobie moje imię i nazwisko, to muszę zrobić to tak.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Michał Skowron&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>W Pythonie możesz używać zarówno pojedynczych (<code>&#x27;&#x27;</code>) jak i podwójnych (<code>&quot;&quot;</code>)
cudzysłowów.</p><p>Ale wróćmy do naszych ścieżek. Na początku, ustawiamy <code>current_dir</code> czyli
ścieżkę do folderu, w którym znajduje się nasz plik <code>rel_notes_generator.py</code>.
Robimy to za pomocą elementu <code>__file__</code> dostępnego w Pythonie. Ten element
przechowuje ścieżkę do pliku. Dodając <code>.parent</code> mówimy Pythonowi, że chcemy w
naszej zmiennej zapisać nie ścieżkę do naszego pliku, tylko do folderu, w którym
nasz plik się znajduje.</p><p>Pewnie zastanawiasz się po co jest nam to potrzebne? Jest to ogólnie dobra
praktyka. Korzystając z niej ułatwiamy sobie życie, bo nie musimy na sztywno
wpisywać ścieżki do naszego pliku. Dzięki temu nie ma znaczenia gdzie znajduje
się nasz plik <code>rel_notes_generator.py</code>, bo Python sam sobie rozwiąże tę ścieżkę.
Ta ścieżka jest naszym punktem wyjścia dla kolejnych ścieżek. Na jej podstawie
budujemy ścieżkę do folderu <code>input</code>, w którym trzymamy pliki tekstowe i do
folderu <code>output</code>, w którym zapisujemy nasz końcowy plik HTML.</p><p>Możliwe, że zastanawiasz się teraz czy nie dałoby się tego zrobić prościej i
uniknąć tej szamanerii. Dałoby się, ale niekoniecznie byłoby to lepsze
rozwiązanie. Gdybyśmy nie skorzystali z elementu <code>__file__</code>, musielibyśmy
ustawić ścieżki &quot;na piechotę&quot;. Wyobraź sobie, że Twój plik
<code>rel_notes_generator.py</code> znajduje się w <code>C:\my-apps\rel_notes_generator</code>. Więc
ustawiasz ścieżki na sztywno w taki sposób.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;C:\my-apps\rel_notes_generator&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">input_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27; + &#x27;</span><span class="token builtin" style="color:rgb(130, 170, 255)">input</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">output_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27; + &#x27;</span><span class="token plain">output&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Takie rozwiązanie na pierwszy rzut oka może Ci się wydawać całkiem w porządku,
ale niestety niesie ze sobą parę problemów. Generator będzie działał tylko wtedy
jeśli:</p><ul><li>Uruchomimy go na Windowsie</li><li>Nasz folder projektu będzie nazywał się <code>rel_notes_generator</code> i będzie
znajdował się w <code>C:\my-apps</code>.</li></ul><p>Jeśli zmienimy nazwę folderu projektu albo przeniesiemy go w inne miejsce, to
nasz generator przestanie działać. To dość spore ograniczenia, których możemy
uniknąć stosując komponent <code>pathlib</code> i ścieżkę do folderu projektu, która sama
się automatycznie rozwiązuje.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-7-dodaj-funkcję-do-wyciągania-informacji-z-plików-źródłowych">Krok 7: Dodaj funkcję do wyciągania informacji z plików źródłowych<a class="hash-link" href="#krok-7-dodaj-funkcję-do-wyciągania-informacji-z-plików-źródłowych" title="Bezpośredni link do nagłówka">​</a></h3><p>Teraz dodamy naszą pierwszą funkcję.</p><p>Funkcja w kodzie to nic innego jak kawałek kodu, który wykonuje jakąś operację.
Będzie nam ona potrzebna, żeby z naszych plików tekstowych pobrać ich nazwę i
zawartość.</p><p>Dodaj do pliku <code>rel_notes_generator.py</code> następujący kod.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">source_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rel_notes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> source_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">glob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*.txt&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_note_id </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">stem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            rel_note_text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">rel_note_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rel_note_text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> rel_notes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>W Pythonie, tworzymy funkcję za pomocą słowa <code>def</code>. Następnie podajemy nazwę
funkcji i opcjonalnie w nawiasie określamy parametry, które funkcja przyjmuje.</p><p>W naszym wypadku funkcja nazywa się <code>get_release_notes</code>. Żeby mogła wykonać
poprawnie swoje zadanie, musimy podać jej ścieżkę do folderu, w którym znajdują
się pliki tekstowe (<code>source_dir</code>).</p><p>Pierwsze koty za płoty. Idziemy dalej. Nasza funkcja ma za zadanie przejść przez
wszystkie pliki i zebrać z nich nazwę i zawartość. Zgodnie z tym co zostało
ustalone z programistami w Twoim projekcie, nazwa pliku to numer zgłoszenia, a
zawartość to opis wprowadzonych zmian w kodzie aplikacji. W związku z tym,
wygodnie będzie nam zapisać informacje zebrane przez naszą funkcję w formie
słownika (<code>dict</code>), czyli takiego zbioru elementów <code>klucz: wartość</code>. W Pythonie,
słownik to jeden z najważniejszych typów danych, który jest bardzo często
używany.</p><p>W naszym wypadku, taka para będzie wyglądać tak: <code>numer zgłoszenia: opis zmian</code>.
Na początku dodajemy zmienną <code>rel_notes</code>, która będzie przechowywać pusty
słownik (<code>{}</code>). Potem ten pusty słownik wypełnimy danymi, które nasza funkcja
zbierze.</p><p>W folderze może znajdować się więcej niż jeden plik tekstowy, więc musimy zrobić
pętlę, która przejdzie po wszystkich plikach. Innymi słowy, mówimy Pythonowi,
żeby dla każdego pliku (<code>for file</code>), który ma rozszerzenie TXT
(<code>in source_dir.glob(&#x27;*.txt&#x27;)</code>):</p><ol><li>W zmiennej <code>rel_note_id</code> zapisał nazwę pliku (<code>file.stem</code>).</li><li>Otworzył plik (<code>with file.open() as f</code>) i w zmiennej <code>rel_note_text</code> zapisał
jego zawartość, którą pobrał (<code>f.read()</code>).</li><li>Do słownika dodał parę z numerem zgłoszenia i opisem zmian
(<code>rel_notes[rel_note_id] = rel_note_text</code>).</li></ol><p>Kiedy pętla przejdzie po wszystkich plikach, funkcja zwróci nam wypełniony
słownik (<code>return rel_notes</code>). W naszym testowym środowisku, funkcja zwróci nam
taki słownik:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-property property">&#x27;PROJ-101&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Dodaliśmy nową funkcję, która pozwala na szybkie pobieranie zasobów sieciowych.&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string-property property">&#x27;PROJ-102&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Naprawiliśmy błąd, który powodował, że aplikacja zawieszała się na kilka sekund, a następnie okno aplikacji przesuwało się poza ekran przez co stawało się niewidoczne.&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Na tym etapie, tylko stworzyliśmy nową funkcję, ale jeszcze jej nie
uruchomiliśmy. To zrobimy dopiero później.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-8-dodaj-funkcję-generującą-wiersze-tabeli">Krok 8: Dodaj funkcję generującą wiersze tabeli<a class="hash-link" href="#krok-8-dodaj-funkcję-generującą-wiersze-tabeli" title="Bezpośredni link do nagłówka">​</a></h3><p>W poprzednim kroku zrobiliśmy całkiem sporo, ale to dopiero początek. Potrzebne
nam będą jeszcze inne funkcje, żeby nasza aplikacja zrobiła wszystko co to
chcemy, czyli stworzyła dla nas plik HTML z notami wydania.</p><p>W tym kroku dodamy funkcję i prosty szablon, który pozwoli nam przerobić słownik
na fragment kodu HTML. Będą to wiersze tabeli, które podstawimy w kolejnych
krokach do naszego szablonu HTML. Jak pamiętasz, szablon przygotowaliśmy w
kroku 3.</p><p>Na początek, dodaj taki mały szablon.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rel_note_template </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;&#x27;&#x27;&lt;tr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;td&gt;$id&lt;/td&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;td&gt;$description&lt;/td&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Szablon ma w sobie dwa elementy zastępcze, <code>$id</code> i <code>$description</code>, które
będziemy zamieniać odpowiednio na klucz i wartość ze słownika. Potrójny
cudzysłów (<code>&#x27;&#x27;&#x27;</code> lub <code>&quot;&quot;&quot;</code>) służy do tworzenia łańcuchów znaków, które zajmują
więcej niż jedną linijkę. Dla łańcuchów znaków, które nie wykraczają poza jedną
linijkę używa się pojedynczego cudzysłowu (<code>&#x27;</code> lub <code>&quot;</code>).</p><p>Następnie dodaj kolejną funkcję.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">generate_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rel_note_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> description </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_note_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> rel_note_template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">substitute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> description</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> rel_note_table_rows</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Jej zadaniem będzie przekształcenie słownika we fragment kodu HTML. W poprzednim
kroku analizowaliśmy poszczególne części składowe funkcji, więc pewnie ta
funkcja nie jest już dla Ciebie wielką niewiadomą. Jednak dla porządku przejdźmy
po tym co się tutaj dzieje.</p><p>Nasza funkcja o nazwie <code>generate_release_notes</code> przyjmuje jako parametr słownik
(<code>release_notes</code>), w którym są pary <code>numer zgłoszenia: opis zmian</code>.</p><p>Na początku, tworzymy zmienną <code>rel_note_table_rows</code>, której wartość to pusty
tekst (<code>&#x27;&#x27;</code>). W tej zmiennej zapiszemy nasze wiersze tabeli HTML, które
wygenerujemy za pomocą naszego szablonu <code>rel_note_template</code>.</p><p>Następnie, mówimy Pythonowi, żeby dla każdej pary (<code>for id, description</code>) w
słowniku (<code>release_notes.items()</code>):</p><ol><li>Wziął szablon <code>rel_note_template</code> i podmienił w nim element zastępczy <code>$id</code>
na <code>id</code> ze słownika (czyli numer zgłoszenia) i zamienił element zastępczy
<code>$description</code> na <code>description</code> ze słownika. Innymi słowy pobieramy ze
słownika numer zgłoszenia i opis zmian i wstawiamy je do szablonu
(<code>rel_note_template.substitute(id=id, description=description)</code>).</li><li>Dodał wygenerowany wiersz tabeli HTML do zmiennej, którą stworzyliśmy na
początku (<code>rel_note_table_rows +=</code>).</li></ol><p>Kiedy pętla przejdzie po wszystkich parach w słowniku, funkcja zwróci nam
zmienną z gotowymi wierszami tabeli (<code>return rel_note_table_rows</code>). W naszym
testowym środowisku, funkcja zwróci nam taki kod:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">PROJ-101</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Dodaliśmy nową funkcję, która pozwala na szybkie pobieranie zasobów</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sieciowych.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">PROJ-102</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Naprawiliśmy błąd, który powodował, że aplikacja zawieszała się na kilka</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sekund, a następnie okno aplikacji przesuwało się poza ekran przez co</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    stawało się niewidoczne.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">td</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">tr</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Dla przypomnienia dodam, że tak jak w poprzednim kroku, tylko stworzyliśmy nową
funkcję, ale jeszcze jej nie uruchomiliśmy. To zrobimy dopiero później.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-9-dodaj-funkcję-zapisującą-końcowy-plik-html">Krok 9: Dodaj funkcję zapisującą końcowy plik HTML<a class="hash-link" href="#krok-9-dodaj-funkcję-zapisującą-końcowy-plik-html" title="Bezpośredni link do nagłówka">​</a></h3><p>To już ostatnia funkcja, której potrzebujemy. Jej zadaniem jest podstawienie
wierszy tabeli do szablonu pliku HTML, a następnie zapisanie końcowego pliku
HTML z notkami wydania. Dodaj taki kod do pliku <code>rel_notes_generator.py</code>.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">write_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_note_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rmtree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> Path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;release_notes_template.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> rnt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        file_template </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rnt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;release_notes.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;w&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> rn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file_template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">substitute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_notes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">release_note_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Na początku funkcja sprawdza czy folder docelowy, w którym zapiszemy końcowy
plik już istnieje (<code>target_dir.exists()</code>). Jeśli tak, to najpierw go kasuje
(<code>rmtree(target_dir)</code>). Następnie, funkcja tworzy folder docelowy
(<code>target_dir.mkdir()</code>). Te wszystkie kroki możemy wykonać w łatwy sposób dzięki
komponentom <code>pathlib</code> i <code>shutil</code>, które zaimportowaliśmy w kroku 5.</p><p>Po przygotowaniu folderu docelowego, funkcja otwiera plik szablonu HTML
(<code>with Path(&#x27;release_notes_template.html&#x27;).open() as rnt</code>) po czym przypisuje
zawartość szablonu do zmiennej <code>file_template</code>
(<code>file_template = Template(rnt.read())</code>).</p><p>Następnie, funkcja tworzy pusty plik końcowy o nazwie <code>release_notes.html</code>
(<code>with (target_dir / &#x27;release_notes.html&#x27;).open(&#x27;w&#x27;) as rn</code>). Ostatnia część to
zamiana w szablonie HTML elementu zastępczego <code>$release_notes</code> na właściwe
wiersze tabeli i zapisanie tego kodu HTML do pliku końcowego
(<code>rn.write(file_template.substitute(release_notes=release_note_rows))</code>).</p><p>Funkcja jest dość krótka, ale całkiem sporo się tutaj wydarzyło. To jest właśnie
jedna z zalet Pythona - zwięzła i czytelna składnia, dzięki której można na
niewielkiej przestrzeni zawrzeć całkiem sporo logiki.</p><p>Tak jak poprzednio, na razie tylko zdefiniowaliśmy funkcję. Teraz musimy ją
jeszcze uruchomić.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="krok-10-ostatnie-szlify">Krok 10: Ostatnie szlify<a class="hash-link" href="#krok-10-ostatnie-szlify" title="Bezpośredni link do nagłówka">​</a></h3><p>To już ostatnia prosta. Właściwie mamy już wszystko co nam potrzebne. Teraz
pozostaje nam uruchomić nasze funkcje.</p><p>Żeby to zrobić, dodaj taki kod.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    collected_release_notes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> get_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    generated_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> generate_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">collected_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    write_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">generated_table_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> output_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pierwsza linijka, <code>if __name__ == &#x27;__main__&#x27;</code>, wygląda dość enigmatycznie. W
Pythonie w taki sposób określamy, że dany fragment kodu ma zostać uruchomiony
tylko jeśli wywołamy plik <code>.py</code> jako skrypt z linii komend. Dzięki temu, ten
fragment kodu nie zostanie wywołany jeśli zaimportujemy nasz plik <code>.py</code> do
innego pliku. Zapewne to wszystko brzmi dość zagadkowo, dlatego postaram się to
rozjaśnić na przykładzie.</p><p>Kod naszego generatora znajduje się w pliku <code>rel_notes_generator.py</code>. W
większości przypadków będziesz uruchamiać generator z linii komend jak skrypt za
pomocą polecenia <code>python rel_notes_generator.py</code>. Kiedy to zrobisz, część kodu,
która znajduje się pod <code>if __name__ == &#x27;__main__&#x27;</code> zostanie wykonana. Czyli
wszystko się zgadza, to jest właśnie to o co nam chodzi.</p><p>Po pewnym czasie, stworzysz kolejny generator, który będzie miał trochę inne
funkcje niż generator, który stworzyliśmy wspólnie. Jednak pewne części będą
takie same. Żeby nie pisać tego samego kodu jeszcze raz, możesz zaimportować
<code>rel_notes_generator.py</code> do swojego nowego generatora w taki sam sposób jak
importowaliśmy komponenty w kroku 5. W tej sytuacji chcesz tylko zaimportować
funkcje z generatora, ale nie chcesz, żeby się uruchomiły. O tym kiedy je
uruchomić, zdecydujesz w odpowiedniej części swojego nowego generatora. I
właśnie użycie <code>if __name__ == &#x27;__main__&#x27;</code>, powoduje że funkcje się nie
uruchomią. Podczas importu funkcji, wszystko co znajduje się poniżej tej linijki
nie wykona się.</p><p>Skoro już wiemy po co nam ten enigmatyczny fragment kodu, zobaczmy co znajduje
się pod nim. Najpierw, uruchamiamy funkcję <code>get_release_notes</code> na folderze
<code>input</code>, czyli tam gdzie mamy nasze testowe pliki tekstowe. Dla przypomnienia,
funkcja wyciągnie nam nazwy i zawartość plików tekstowych. Wynik uruchomienia
funkcji przypisujemy do zmiennej <code>collected_release_notes</code>. Następnie,
uruchamiamy funkcję <code>generate_release_notes</code>, która stworzy nam wiersze tabeli
HTML z zawartości plików tekstowych, którą trzymamy w zmiennej
<code>collected_release_notes</code>. Wygenerowane wiersze tabeli przypisujemy do zmiennej
<code>generated_release_notes</code>. Ostatnia operacja, to uruchomienie funkcji
<code>write_release_notes</code>, która zapisze to co mamy w zmiennej
<code>generated_release_notes</code> do końcowego pliku HTML.</p><p>Nasze noty wydania są gotowe!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gotowa-aplikacja">Gotowa aplikacja<a class="hash-link" href="#gotowa-aplikacja" title="Bezpośredni link do nagłówka">​</a></h2><p>Udało się nam przejść przez wszystkie etapy tworzenia generatora. Poniżej
kompletny kod naszej aplikacji.</p><p><em>rel_notes_generator.py</em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> string </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> shutil </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> rmtree</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__file__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">parent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">input_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;input&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">output_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> current_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;output&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rel_note_template </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;&#x27;&#x27;&lt;tr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;td&gt;$id&lt;/td&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;td&gt;$description&lt;/td&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&lt;/tr&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">get_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">source_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rel_notes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> source_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">glob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*.txt&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_note_id </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">stem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            rel_note_text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">rel_note_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rel_note_text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> rel_notes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">generate_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rel_note_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> description </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rel_note_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> rel_note_template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">substitute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token builtin" style="color:rgb(130, 170, 255)">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> description</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> rel_note_table_rows</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">write_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_note_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rmtree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> Path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;release_notes_template.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> rnt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        file_template </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rnt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target_dir </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;release_notes.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;w&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> rn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        rn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file_template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">substitute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">release_notes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">release_note_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    collected_release_notes </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> get_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">input_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    generated_table_rows </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> generate_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">collected_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    write_release_notes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">generated_table_rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> output_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jak-uruchomić-generator">Jak uruchomić generator?<a class="hash-link" href="#jak-uruchomić-generator" title="Bezpośredni link do nagłówka">​</a></h2><p>W kroku 10, pojawiła się już informacja jak wywołać plik <code>.py</code> z linii komend.
Jednak dla porządku, zamieszczam informację jak uruchomić generator:</p><ol><li><p>Otwórz linię komend.</p></li><li><p>Przejdź do folderu <code>rel_notes_generator</code>.</p></li><li><p>Uruchom poniższą komendę.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">python rel_notes_generator.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Kopiuj do schowka" title="Kopiuj" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>W folderze <code>output</code> pojawi się plik <code>release_notes.html</code> z gotowymi notami
wydania.</p></li></ol><blockquote><p>W zależności od tego w jaki sposób Python został zainstalowany na Twoim
komputerze, komenda może się różnić. Na przykład, jeśli Python 3 nie został
dodany do zmiennych środowiskowych Twojego systemu operacyjnego, może
uruchomić się Python 2, który już wcześniej był zainstalowany na Twoim
komputerze. W innym wypadku, komenda może w ogóle nie zostać rozpoznana.
Możesz wtedy spróbować użyć komendy <code>python3</code>.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/techwriterkoduje/site-source/tree/master/website/docs/praktyka.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edytuj tę stronę</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Nawigacja na stronie dokumentacji"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/teoria"><div class="pagination-nav__sublabel">Poprzednia strona</div><div class="pagination-nav__label">Na początek trochę teorii</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/co-dalej"><div class="pagination-nav__sublabel">Następna strona</div><div class="pagination-nav__label">Co dalej?</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#co-będziemy-robić" class="table-of-contents__link toc-highlight">Co będziemy robić?</a></li><li><a href="#co-nam-będzie-potrzebne" class="table-of-contents__link toc-highlight">Co nam będzie potrzebne?</a><ul><li><a href="#python" class="table-of-contents__link toc-highlight">Python</a></li><li><a href="#edytor-tekstowy" class="table-of-contents__link toc-highlight">Edytor tekstowy</a></li></ul></li><li><a href="#kodowanie-czas-zacząć" class="table-of-contents__link toc-highlight">Kodowanie czas zacząć</a><ul><li><a href="#krok-1-stwórz-folder-dla-generatora" class="table-of-contents__link toc-highlight">Krok 1: Stwórz folder dla generatora</a></li><li><a href="#krok-2-dodaj-przykładowe-pliki-tekstowe" class="table-of-contents__link toc-highlight">Krok 2: Dodaj przykładowe pliki tekstowe</a></li><li><a href="#krok-3-stwórz-szablon-dla-pliku-html" class="table-of-contents__link toc-highlight">Krok 3: Stwórz szablon dla pliku HTML</a></li><li><a href="#krok-4-stwórz-plik-dla-kodu-generatora" class="table-of-contents__link toc-highlight">Krok 4: Stwórz plik dla kodu generatora</a></li><li><a href="#krok-5-dodaj-linki-do-potrzebnych-komponentów-pythona" class="table-of-contents__link toc-highlight">Krok 5: Dodaj linki do potrzebnych komponentów Pythona</a></li><li><a href="#krok-6-ustaw-ścieżki-do-potrzebnych-zasobów" class="table-of-contents__link toc-highlight">Krok 6: Ustaw ścieżki do potrzebnych zasobów</a></li><li><a href="#krok-7-dodaj-funkcję-do-wyciągania-informacji-z-plików-źródłowych" class="table-of-contents__link toc-highlight">Krok 7: Dodaj funkcję do wyciągania informacji z plików źródłowych</a></li><li><a href="#krok-8-dodaj-funkcję-generującą-wiersze-tabeli" class="table-of-contents__link toc-highlight">Krok 8: Dodaj funkcję generującą wiersze tabeli</a></li><li><a href="#krok-9-dodaj-funkcję-zapisującą-końcowy-plik-html" class="table-of-contents__link toc-highlight">Krok 9: Dodaj funkcję zapisującą końcowy plik HTML</a></li><li><a href="#krok-10-ostatnie-szlify" class="table-of-contents__link toc-highlight">Krok 10: Ostatnie szlify</a></li></ul></li><li><a href="#gotowa-aplikacja" class="table-of-contents__link toc-highlight">Gotowa aplikacja</a></li><li><a href="#jak-uruchomić-generator" class="table-of-contents__link toc-highlight">Jak uruchomić generator?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Tech Writer koduje<br><br>Logo stworzone przez rad89</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8397876e.js"></script>
<script src="/assets/js/main.d545ffd6.js"></script>
</body>
</html>